<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Semana" language="groovy" pageWidth="1792" pageHeight="712" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="1752" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="1346"/>
	<property name="ireport.y" value="0"/>
	<property name="net.sf.jasperreports.export.xls.detect.cell.type" value="true"/>
	<property name="net.sf.jasperreports.export.xls.remove.empty.space.between.columns" value="false"/>
	<property name="net.sf.jasperreports.export.xls.remove.empty.space.between.rows" value="true"/>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<style name="HideCol-Row" isDefault="true" fill="Solid">
		<conditionalStyle>
			<style/>
		</conditionalStyle>
	</style>
	<subDataset name="newQuery" whenResourceMissingType="Empty">
		<parameter name="countries" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["1"]]></defaultValueExpression>
		</parameter>
		<parameter name="initialYear" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["1"]]></defaultValueExpression>
		</parameter>
		<parameter name="finalYear" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["1"]]></defaultValueExpression>
		</parameter>
		<parameter name="productFilters" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["select 1,1,1,1"]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT
  q1.anio,
  promedio, promediokilo,"numObs",
  q1.ctr_desc,
  q1.ctr_id,
  q1.prod_id,
  q1.ptype_id,
  q1.prod_desc,
  q1.var_id,
  q1.var_desc,
  q1.qua_id,
  q1.qua_desc,
  q1.size_id,
  q1.size_desc,
  ori_country,
  tunit_desc
from
(select country.ctr_sk, country.ctr_id, country.ctr_desc,
	product.prdvar_sk, product.prod_id, product.prod_desc||coalesce(' '||ptype.ptype_desc,'') prod_desc, product.var_id, product.var_desc,
	quality.qua_sk, quality.qua_id, quality.qua_desc,
	size.size_sk, size.size_id, size.size_desc,
	ptype.ptype_sk, ptype.ptype_id, ptype.ptype_desc,
	extract (YEAR FROM date_field)::integer anio
	from
		public.country_dim country,
		public.date_dim fecha,
		PRODUCt_variety_dim product,
		public.product_type_dim ptype,
		public.size_dim size,
		public.quality_dim quality
	where 1=1
	  and ptype.prod_id = product.prod_id
	  and current_date between country.effective_date and country.expiry_date
	  and current_date between product.effective_date and product.expiry_date
	  and current_date between ptype.effective_date and ptype.expiry_date
	  and current_date between size.effective_date and size.expiry_date
	  and current_date between quality.effective_date and quality.expiry_date
	  and country.ctr_id IN ($P!{countries})
	  and extract (YEAR FROM fecha.date_field)::integer between $P!{initialYear} and $P!{finalYear}
	  and (product.prdvar_sk, ptype.ptype_sk, quality.qua_Id, size.size_Id) IN ($P!{productFilters})
	GROUP BY
		country.ctr_sk,
		country.ctr_desc,
		country.ctr_id,
		product.prod_id,
		ptype.ptype_sk,
		ptype.ptype_id,
		ptype.ptype_Desc,
		product.prdvar_sk,
		product.prod_desc,
		product.var_id,
		product.var_desc,
		quality.qua_sk,
		quality.qua_id,
		quality.qua_desc,
		size.size_sk,
		size.size_id,
		size.size_desc, anio
)q1 left outer join (
select
  round(sum((price_inf_uni + price_sup_uni)/2)/count(1),2) promedio,
  round(sum((price_inf_kilo + price_sup_kilo)/2)/count(1),2) promediokilo,
  case when sum(price_inf_kilo) is null then
	0
	else count(1) end "numObs",
country.ctr_sk,
product.prdvar_sk,
ptype.ptype_sk,
size.size_sk,
quality.qua_sk,
  product.prod_id,
  ptype.ptype_id,
  product.prod_desc||coalesce(' '||ptype_desc,'') prod_desc,
  product.var_id,
  product.var_desc,
  quality.qua_id,
  quality.qua_desc,
  size.size_id,
  size.size_desc,
  country.ctr_desc,
  country.ctr_id,
  origen.ori_country,
  tunit.tunit_desc,
	extract (YEAR FROM date_field)::integer anio
FROM
  public.date_dim fecha,
  public.product_variety_dim product,
  public.product_type_dim ptype,
  public.size_dim size,
  public.quality_dim quality,
  public.origin_dim origen,
  public.trad_unit_dim tunit,
  public.country_dim country,
  public.price_fact price
WHERE origen.ori_sk = price.ori_sk
  and tunit.tunit_sk = price.tunit_sk
  and price.ctr_sk = country.ctr_sk and
	price.date_sk = fecha.date_sk and
	tunit.tunit_sk = price.tunit_sk and
	fecha.date_sk = price.date_sk AND
	product.prdvar_sk = price.prdvar_sk AND
	ptype.ptype_sk = price.ptype_sk AND
	size.size_sk = price.size_sk AND
	quality.qua_sk = price.qua_sk AND
	origen.ori_sk = price.ori_sk
  and (product.prdvar_sk, ptype.ptype_sk, quality.qua_Id, size.size_Id) IN ($P!{productFilters})
  and country.ctr_id in ($P!{countries})
  and extract (YEAR FROM fecha.date_field)::integer between $P!{initialYear} and $P!{finalYear}
GROUP BY
	country.ctr_sk,
	country.ctr_desc,
	country.ctr_id,
	product.prod_id,
	ptype.ptype_sk,
	ptype.ptype_id,
	ptype.ptype_Desc,
	product.prdvar_sk,
	product.prod_desc,
	product.var_id,
	product.var_desc,
	quality.qua_sk,
	quality.qua_id,
	quality.qua_desc,
	size.size_sk,
	size.size_id,
	size.size_desc,
	ori_country,
	tunit_desc, anio
) base ON base.ctr_sk = q1.ctr_sk
	  and base.anio = q1.anio
	  and base.prdvar_sk = q1.prdvar_sk
	  and base.ptype_sk = q1.ptype_sk
	  and base.size_sk = q1.size_sk
	  and base.qua_sk = q1.qua_sk

ORDER BY
  anio,  ctr_id,
  prod_id,
  ptype_id,
  var_id,
  qua_id,
  size_id]]>
		</queryString>
		<field name="anio" class="java.lang.Integer"/>
		<field name="promedio" class="java.math.BigDecimal"/>
		<field name="promediokilo" class="java.math.BigDecimal"/>
		<field name="numObs" class="java.lang.Long"/>
		<field name="ctr_desc" class="java.lang.String"/>
		<field name="ctr_id" class="java.lang.Integer"/>
		<field name="prod_id" class="java.lang.Integer"/>
		<field name="ptype_id" class="java.lang.Integer"/>
		<field name="prod_desc" class="java.lang.String"/>
		<field name="var_id" class="java.lang.Integer"/>
		<field name="var_desc" class="java.lang.String"/>
		<field name="qua_id" class="java.lang.Integer"/>
		<field name="qua_desc" class="java.lang.String"/>
		<field name="size_id" class="java.lang.Integer"/>
		<field name="size_desc" class="java.lang.String"/>
		<field name="ori_country" class="java.lang.String"/>
		<field name="tunit_desc" class="java.lang.String"/>
	</subDataset>
	<subDataset name="GraphQuery" whenResourceMissingType="Empty">
		<parameter name="countries" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["1"]]></defaultValueExpression>
		</parameter>
		<parameter name="initialYear" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["1"]]></defaultValueExpression>
		</parameter>
		<parameter name="finalYear" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["1"]]></defaultValueExpression>
		</parameter>
		<parameter name="productFilters" class="java.lang.String" isForPrompting="false">
			<defaultValueExpression><![CDATA["select 1,1,1,1"]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT
  round(sum((price.price_inf_uni + price.price_sup_uni)/2)/count(1),2) promedio,
  round(sum((price.price_inf_kilo + price.price_sup_kilo)/2)/count(1),2) promediokilo,
  count(1) "numObs",
  extract (YEAR FROM fecha.date_field)::integer anio,
  country.ctr_desc,
  country.ctr_id,
  product.prod_id,
  ptype.ptype_id,
  product.prod_desc||coalesce(' '||ptype_desc,'') prod_desc,
  product.var_id,
  product.var_desc,
  quality.qua_id,
  quality.qua_desc,
  size.size_id,
  size.size_desc,
  origen.ori_country,
  tunit.tunit_desc
FROM
  public.price_fact price,
  public.date_dim fecha,
  public.country_dim country,
  public.product_variety_dim product,
  public.product_type_dim ptype,
  public.size_dim size,
  public.quality_dim quality,
  public.origin_dim origen,
  public.trad_unit_dim tunit
WHERE
  tunit.tunit_sk = price.tunit_sk AND
  fecha.date_sk = price.date_sk AND
  country.ctr_sk = price.ctr_sk AND
  product.prdvar_sk = price.prdvar_sk AND
  ptype.ptype_sk = price.ptype_sk AND
  size.size_sk = price.size_sk AND
  quality.qua_sk = price.qua_sk AND
  origen.ori_sk = price.ori_sk
  and (product.prdvar_sk, ptype.ptype_sk, quality.qua_Id, size.size_Id) IN ($P!{productFilters})
  and country.ctr_id in ($P!{countries})
  and extract (YEAR FROM fecha.date_field)::integer between $P!{initialYear} and $P!{finalYear}
 group by
  extract (YEAR FROM fecha.date_field)::integer,
  country.ctr_desc,
  country.ctr_id,
  product.prod_id,
  ptype.ptype_id,
  product.prod_desc,
  ptype.ptype_desc,
  product.var_id,
  product.var_desc,
  quality.qua_id,
  quality.qua_desc,
  size.size_id,
  size.size_desc,
  origen.ori_country,
  tunit.tunit_desc
order by
    anio]]>
		</queryString>
		<field name="promedio" class="java.math.BigDecimal"/>
		<field name="promediokilo" class="java.math.BigDecimal"/>
		<field name="numObs" class="java.lang.Long"/>
		<field name="anio" class="java.lang.Integer"/>
		<field name="ctr_desc" class="java.lang.String"/>
		<field name="ctr_id" class="java.lang.Integer"/>
		<field name="prod_id" class="java.lang.Integer"/>
		<field name="ptype_id" class="java.lang.Integer"/>
		<field name="prod_desc" class="java.lang.String"/>
		<field name="var_id" class="java.lang.Integer"/>
		<field name="var_desc" class="java.lang.String"/>
		<field name="qua_id" class="java.lang.Integer"/>
		<field name="qua_desc" class="java.lang.String"/>
		<field name="size_id" class="java.lang.Integer"/>
		<field name="size_desc" class="java.lang.String"/>
		<field name="ori_country" class="java.lang.String"/>
		<field name="tunit_desc" class="java.lang.String"/>
	</subDataset>
	<parameter name="productFilters" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="countries" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="initialYear" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="finalYear" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="countriesDesc" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="urlSizeInfo" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["http://localhost:8080/SIMEFRUT/getAction.do?accion=urlSizeInfo"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
$P{productFilters} productFilters,
$P{finalYear} finalYear,
$P{initialYear} initialYear,
$P{countries} countries]]>
	</queryString>
	<field name="productfilters" class="java.lang.String"/>
	<field name="finalyear" class="java.lang.String"/>
	<field name="initialyear" class="java.lang.String"/>
	<field name="countries" class="java.lang.String"/>
	<group name="Grafico">
		<groupExpression><![CDATA[1]]></groupExpression>
		<groupFooter>
			<band height="448">
				<lineChart>
					<chart renderType="draw" theme="aegean">
						<reportElement x="0" y="0" width="740" height="440"/>
						<chartTitle>
							<titleExpression><![CDATA["Precio de Frutas en el Mercado Mayorista"]]></titleExpression>
						</chartTitle>
						<chartSubtitle/>
						<chartLegend position="Top">
							<font size="9"/>
						</chartLegend>
					</chart>
					<categoryDataset>
						<dataset>
							<datasetRun subDataset="GraphQuery">
								<datasetParameter name="productFilters">
									<datasetParameterExpression><![CDATA[$F{productfilters}]]></datasetParameterExpression>
								</datasetParameter>
								<datasetParameter name="countries">
									<datasetParameterExpression><![CDATA[$F{countries}]]></datasetParameterExpression>
								</datasetParameter>
								<datasetParameter name="initialYear">
									<datasetParameterExpression><![CDATA[$F{initialyear}]]></datasetParameterExpression>
								</datasetParameter>
								<datasetParameter name="finalYear">
									<datasetParameterExpression><![CDATA[$F{finalyear}]]></datasetParameterExpression>
								</datasetParameter>
							</datasetRun>
						</dataset>
						<categorySeries>
							<seriesExpression><![CDATA[$F{ori_country}+" - " + $F{prod_desc}+ ($F{var_desc}==null?"":(" - "+$F{var_desc})) +" - "+$F{qua_desc} +" - "+$F{size_desc}]]></seriesExpression>
							<categoryExpression><![CDATA[$F{anio}]]></categoryExpression>
							<valueExpression><![CDATA[$F{promediokilo}]]></valueExpression>
							<labelExpression><![CDATA[$F{prod_desc}]]></labelExpression>
						</categorySeries>
					</categoryDataset>
					<linePlot>
						<plot>
							<seriesColor seriesOrder="0" color="#FF0000"/>
							<seriesColor seriesOrder="1" color="#0000FF"/>
							<seriesColor seriesOrder="2" color="#00FF00"/>
							<seriesColor seriesOrder="3" color="#FFFF00"/>
							<seriesColor seriesOrder="4" color="#FF00FF"/>
							<seriesColor seriesOrder="5" color="#000000"/>
							<seriesColor seriesOrder="6" color="#00FFFF"/>
						</plot>
						<categoryAxisLabelExpression><![CDATA["Años"]]></categoryAxisLabelExpression>
						<valueAxisLabelExpression><![CDATA["Precios Prom. USD\$/Kg."]]></valueAxisLabelExpression>
					</linePlot>
				</lineChart>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="35" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="740" height="33" forecolor="#050505" backcolor="#FDFDFD"/>
				<textElement textAlignment="Center">
					<font fontName="SansSerif" size="22" isBold="true"/>
				</textElement>
				<text><![CDATA[Precio de Frutas en el Mercado Mayorista]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="46" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="140" height="20" isPrintWhenDetailOverflows="true" backcolor="#FDFDFD"/>
				<textElement verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA["Periodo: "+ $P{initialYear} +" a " + $P{finalYear}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="200" y="0" width="540" height="31" isPrintWhenDetailOverflows="true" backcolor="#FDFDFD"/>
				<textElement verticalAlignment="Top">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA["Países: "+$P{countriesDesc}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="179">
			<printWhenExpression><![CDATA[true]]></printWhenExpression>
			<crosstab>
				<reportElement x="0" y="0" width="1752" height="179"/>
				<crosstabDataset>
					<dataset>
						<datasetRun subDataset="newQuery">
							<datasetParameter name="countries">
								<datasetParameterExpression><![CDATA[$F{countries}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="initialYear">
								<datasetParameterExpression><![CDATA[$F{initialyear}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="finalYear">
								<datasetParameterExpression><![CDATA[$F{finalyear}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="productFilters">
								<datasetParameterExpression><![CDATA[$F{productfilters}]]></datasetParameterExpression>
							</datasetParameter>
						</datasetRun>
					</dataset>
				</crosstabDataset>
				<crosstabHeaderCell>
					<cellContents backcolor="#D7D7D7" mode="Transparent">
						<staticText>
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="0" width="70" height="31" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
							<box>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textElement verticalAlignment="Middle">
								<font size="7"/>
							</textElement>
							<text><![CDATA[Producto]]></text>
						</staticText>
						<staticText>
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="70" y="0" width="70" height="31" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
							<box>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textElement verticalAlignment="Middle">
								<font size="8"/>
							</textElement>
							<text><![CDATA[Variedad]]></text>
						</staticText>
						<staticText>
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="140" y="0" width="60" height="31" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
							<box>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textElement verticalAlignment="Middle">
								<font size="8"/>
							</textElement>
							<text><![CDATA[Calidad]]></text>
						</staticText>
						<staticText>
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="200" y="0" width="60" height="31" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
							<box>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textElement verticalAlignment="Middle">
								<font size="8"/>
							</textElement>
							<text><![CDATA[Tamaño]]></text>
						</staticText>
						<staticText>
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="260" y="0" width="90" height="31" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
							<box>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textElement verticalAlignment="Middle">
								<font size="8"/>
							</textElement>
							<text><![CDATA[País Reportador]]></text>
						</staticText>
						<staticText>
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="440" y="0" width="100" height="31" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
							<box>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textElement verticalAlignment="Middle">
								<font size="8"/>
							</textElement>
							<text><![CDATA[Unidad Tradicional]]></text>
						</staticText>
						<staticText>
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="540" y="0" width="50" height="31" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
							<box>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textElement verticalAlignment="Middle">
								<font size="8"/>
							</textElement>
							<text><![CDATA[Año]]></text>
						</staticText>
						<staticText>
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="590" y="0" width="100" height="31" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
							<box>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textElement verticalAlignment="Middle">
								<font size="8"/>
							</textElement>
							<text><![CDATA[Número de Días Reportados]]></text>
						</staticText>
						<staticText>
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="350" y="0" width="90" height="31" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
							<box>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textElement verticalAlignment="Middle">
								<font size="8"/>
							</textElement>
							<text><![CDATA[País Origen]]></text>
						</staticText>
					</cellContents>
				</crosstabHeaderCell>
				<rowGroup name="prod_desc" width="70" headerPosition="Middle">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{prod_desc}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#E0E0E0" mode="Opaque">
							<box>
								<pen lineWidth="0.5"/>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textField isStretchWithOverflow="true">
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" x="0" y="0" width="70" height="15" isPrintWhenDetailOverflows="true"/>
								<box topPadding="2">
									<topPen lineWidth="0.5"/>
									<leftPen lineWidth="0.5"/>
									<bottomPen lineWidth="0.5"/>
									<rightPen lineWidth="0.5"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font size="8"/>
									<paragraph lineSpacing="Proportional"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{prod_desc}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents/>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="var_desc" width="70" headerPosition="Middle">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{var_desc}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#E0E0E0" mode="Opaque">
							<box>
								<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
							</box>
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" x="0" y="0" width="70" height="15" isPrintWhenDetailOverflows="true"/>
								<box topPadding="2">
									<topPen lineWidth="0.5"/>
									<leftPen lineWidth="0.5"/>
									<bottomPen lineWidth="0.5"/>
									<rightPen lineWidth="0.5"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font size="8"/>
									<paragraph lineSpacing="Proportional"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{var_desc}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents/>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="qua_desc" width="60" headerPosition="Middle">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{qua_desc}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#E0E0E0" mode="Opaque">
							<box>
								<pen lineWidth="0.5"/>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textField isStretchWithOverflow="true">
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" x="0" y="0" width="60" height="15" isPrintWhenDetailOverflows="true"/>
								<box topPadding="2">
									<topPen lineWidth="0.5"/>
									<leftPen lineWidth="0.5"/>
									<bottomPen lineWidth="0.5"/>
									<rightPen lineWidth="0.5"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font size="8"/>
									<paragraph lineSpacing="Proportional"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{qua_desc}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents/>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="size_desc" width="60" headerPosition="Middle">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{size_desc}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#E0E0E0" mode="Opaque">
							<box>
								<pen lineWidth="0.5"/>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" x="0" y="0" width="60" height="15" isPrintWhenDetailOverflows="true"/>
								<box topPadding="2">
									<topPen lineWidth="0.5"/>
									<leftPen lineWidth="0.5"/>
									<bottomPen lineWidth="0.5"/>
									<rightPen lineWidth="0.5"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font size="8"/>
									<paragraph lineSpacing="Proportional"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{size_desc}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents/>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="ctr_desc" width="90" headerPosition="Middle">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{ctr_desc}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#E0E0E0" mode="Opaque">
							<box>
								<pen lineWidth="0.5"/>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textField isStretchWithOverflow="true">
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" x="0" y="0" width="90" height="15" isPrintWhenDetailOverflows="true"/>
								<box topPadding="2">
									<topPen lineWidth="0.5"/>
									<leftPen lineWidth="0.5"/>
									<bottomPen lineWidth="0.5"/>
									<rightPen lineWidth="0.5"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font size="8"/>
									<paragraph lineSpacing="Proportional"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ctr_desc}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents/>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="orictr_desc" width="90" headerPosition="Stretch">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{ori_country}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents backcolor="#E0E0E0" mode="Opaque">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" x="0" y="0" width="90" height="15" isPrintWhenDetailOverflows="true"/>
								<box topPadding="2">
									<topPen lineWidth="0.5"/>
									<leftPen lineWidth="0.5"/>
									<bottomPen lineWidth="0.5"/>
									<rightPen lineWidth="0.5"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font size="8"/>
									<paragraph lineSpacing="Proportional"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{orictr_desc}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents/>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="Unidad" width="100" headerPosition="Middle">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{tunit_desc}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents>
							<box>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="0" width="100" height="15" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
								<box topPadding="2">
									<topPen lineWidth="0.5"/>
									<leftPen lineWidth="0.5"/>
									<bottomPen lineWidth="0.5"/>
									<rightPen lineWidth="0.5"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{Unidad}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents/>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="anio" width="50" headerPosition="Middle">
					<bucket class="java.lang.Integer">
						<bucketExpression><![CDATA[$F{anio}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents>
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="0" width="50" height="15" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
								<box topPadding="2">
									<topPen lineWidth="0.5"/>
									<leftPen lineWidth="0.5"/>
									<bottomPen lineWidth="0.5"/>
									<rightPen lineWidth="0.5"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{anio}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents/>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="numObs" width="100" headerPosition="Stretch">
					<bucket class="java.lang.Long">
						<bucketExpression><![CDATA[$F{numObs}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents>
							<textField isStretchWithOverflow="true" pattern="###,##0" isBlankWhenNull="true">
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="0" width="100" height="15" isPrintWhenDetailOverflows="true" backcolor="#E0E0E0"/>
								<box topPadding="2">
									<topPen lineWidth="0.5"/>
									<leftPen lineWidth="0.5"/>
									<bottomPen lineWidth="0.5"/>
									<rightPen lineWidth="0.5"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font size="8"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{numObs}==null?0:$V{numObs}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents/>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="Titulo" height="31" headerPosition="Stretch">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[1]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents backcolor="#D7D7D7" mode="Opaque">
							<box>
								<pen lineWidth="0.5"/>
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textField isStretchWithOverflow="true">
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" x="0" y="0" width="100" height="17" isPrintWhenDetailOverflows="true"/>
								<textElement verticalAlignment="Middle">
									<font size="8"/>
								</textElement>
								<textFieldExpression><![CDATA["US\$ Precio Prom."]]></textFieldExpression>
							</textField>
							<staticText>
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="17" width="50" height="14" isPrintWhenDetailOverflows="true" backcolor="#D7D7D7"/>
								<box>
									<topPen lineWidth="0.5"/>
									<leftPen lineWidth="0.5"/>
									<bottomPen lineWidth="0.5"/>
									<rightPen lineWidth="0.5"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font size="8"/>
								</textElement>
								<text><![CDATA[$/U.Trad.]]></text>
							</staticText>
							<staticText>
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="50" y="17" width="50" height="14" isPrintWhenDetailOverflows="true" backcolor="#D7D7D7"/>
								<box>
									<topPen lineWidth="0.5"/>
									<leftPen lineWidth="0.5"/>
									<bottomPen lineWidth="0.5"/>
									<rightPen lineWidth="0.5"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font size="8"/>
								</textElement>
								<text><![CDATA[$/Kg.]]></text>
							</staticText>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents/>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="promedioMeasure" class="java.math.BigDecimal" calculation="Sum">
					<measureExpression><![CDATA[$F{promedio}]]></measureExpression>
				</measure>
				<measure name="promedioKiloMeasure" class="java.math.BigDecimal" calculation="Sum">
					<measureExpression><![CDATA[$F{promediokilo}]]></measureExpression>
				</measure>
				<crosstabCell width="100" height="15">
					<cellContents>
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" x="0" y="0" width="50" height="15" isPrintWhenDetailOverflows="true">
								<printWhenExpression><![CDATA[$V{promedioMeasure}!=0]]></printWhenExpression>
							</reportElement>
							<box topPadding="2">
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font size="8"/>
								<paragraph lineSpacing="Proportional" rightIndent="2"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{promedioMeasure}==0?null:$V{promedioMeasure}]]></textFieldExpression>
						</textField>
						<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" x="50" y="0" width="50" height="15" isPrintWhenDetailOverflows="true">
								<printWhenExpression><![CDATA[$V{promedioKiloMeasure}!=0]]></printWhenExpression>
							</reportElement>
							<box topPadding="2">
								<topPen lineWidth="0.5"/>
								<leftPen lineWidth="0.5"/>
								<bottomPen lineWidth="0.5"/>
								<rightPen lineWidth="0.5"/>
							</box>
							<textElement textAlignment="Right" verticalAlignment="Middle">
								<font size="8"/>
								<paragraph lineSpacing="Proportional" rightIndent="2"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{promedioKiloMeasure}==0?null:$V{promedioKiloMeasure}]]></textFieldExpression>
						</textField>
						<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" x="0" y="0" width="50" height="15" isPrintWhenDetailOverflows="true" forecolor="#FF0000">
								<printWhenExpression><![CDATA[$V{promedioMeasure}==0]]></printWhenExpression>
							</reportElement>
							<box topPadding="2">
								<pen lineColor="#000000"/>
								<topPen lineWidth="0.5" lineColor="#000000"/>
								<leftPen lineWidth="0.5" lineColor="#000000"/>
								<bottomPen lineWidth="0.5" lineColor="#000000"/>
								<rightPen lineWidth="0.5" lineColor="#000000"/>
							</box>
							<textElement textAlignment="Center" verticalAlignment="Middle">
								<font size="8"/>
								<paragraph lineSpacing="Proportional" rightIndent="2"/>
							</textElement>
							<textFieldExpression><![CDATA["ND"]]></textFieldExpression>
						</textField>
						<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
							<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" x="50" y="0" width="50" height="15" isPrintWhenDetailOverflows="true" forecolor="#FF0000">
								<printWhenExpression><![CDATA[$V{promedioKiloMeasure}==0]]></printWhenExpression>
							</reportElement>
							<box topPadding="2">
								<pen lineColor="#000000"/>
								<topPen lineWidth="0.5" lineColor="#000000"/>
								<leftPen lineWidth="0.5" lineColor="#000000"/>
								<bottomPen lineWidth="0.5" lineColor="#000000"/>
								<rightPen lineWidth="0.5" lineColor="#000000"/>
							</box>
							<textElement textAlignment="Center" verticalAlignment="Middle">
								<font size="8"/>
								<paragraph lineSpacing="Proportional" rightIndent="2"/>
							</textElement>
							<textFieldExpression><![CDATA["ND"]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell height="25" rowTotalGroup="prod_desc">
					<cellContents backcolor="#6093BF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="25"/>
							<textElement/>
							<textFieldExpression><![CDATA[$V{promedioMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell height="25" rowTotalGroup="var_desc">
					<cellContents backcolor="#E6F3FF" mode="Opaque">
						<box>
							<pen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="25"/>
							<textElement/>
							<textFieldExpression><![CDATA[$V{promedioMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell rowTotalGroup="qua_desc">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="size_desc">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="ctr_desc">
					<cellContents/>
				</crosstabCell>
				<crosstabCell columnTotalGroup="Titulo">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="prod_desc" columnTotalGroup="Titulo">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="var_desc" columnTotalGroup="Titulo">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="qua_desc" columnTotalGroup="Titulo">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="size_desc" columnTotalGroup="Titulo">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="ctr_desc" columnTotalGroup="Titulo">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="Unidad">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="Unidad" columnTotalGroup="Titulo">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="anio">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="anio" columnTotalGroup="Titulo">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="numObs">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="numObs" columnTotalGroup="Titulo">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="orictr_desc">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="orictr_desc" columnTotalGroup="Titulo">
					<cellContents/>
				</crosstabCell>
			</crosstab>
		</band>
	</detail>
	<pageFooter>
		<band height="143" splitType="Stretch">
			<staticText>
				<reportElement x="350" y="0" width="90" height="15"/>
				<textElement textAlignment="Center"/>
				<text><![CDATA[SIMEFRUT]]></text>
			</staticText>
			<textField>
				<reportElement x="0" y="28" width="140" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["revisar los pesos en el siguiente"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="0" y="15" width="740" height="12" isPrintWhenDetailOverflows="true"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Recuerde que los tamaños mostrados en el reporte tienen rangos de peso que varían de país en país, por lo que para efectos de comparación de datos, se sugiere"]]></textFieldExpression>
			</textField>
			<textField hyperlinkType="Reference" hyperlinkTarget="Blank">
				<reportElement x="140" y="28" width="60" height="12" forecolor="#0000FF"/>
				<textElement>
					<font size="8" isUnderline="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Link"]]></textFieldExpression>
				<anchorNameExpression><![CDATA["Link"]]></anchorNameExpression>
				<hyperlinkReferenceExpression><![CDATA[$P{urlSizeInfo}]]></hyperlinkReferenceExpression>
				<hyperlinkTooltipExpression><![CDATA[$P{urlSizeInfo}]]></hyperlinkTooltipExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="0" y="49" width="740" height="94" isPrintWhenDetailOverflows="true"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["\nPrecio promedio: A nivel diario se calcula a través del promedio del rango del precio moda. A nivel semanal y mensual, es el promedio de los promedios diarios en el período seleccionado.\nNúmero de días reportados: en esta columna, se registran el número de días dentro de cada semana o mes en que se reportaron datos en el país de análisis.\n\nFuente de datos: Sistemas de información de mercados agrícolas (SIMAs) de la región centroamericana y República Dominicana."]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
